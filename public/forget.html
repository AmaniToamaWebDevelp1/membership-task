<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- STYLES-->
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <!--P5.JS-->
    <script src="p5.js"></script>
    <script src="sketch.js"></script>
    <script src="webAPICore\obj\Debug\net6.0\ref\s.js"></script>
    <title>Rest password /.NET</title>
   
</head>
<body> 

    <div class="container">
        <div class="row justify-content-center flex-column">
            <div class="col-md-4 mx-auto col-auto" id="robotCanvas">
               
            </div>
            <div class="col-md-4 mx-auto my-2">
               <h3 class="text-center dialog  text-uppercase">
                change your password
               </h3>
            </div>
            <div class="col-md-4 mx-auto login bg-dark">
                <div class="text-center text-white my-4"> <h2>Rest Password</h2></div>
                <input class="form-control p-3 my-3" placeholder="email @" type="email"  id="e">
                <input class="form-control p-3 my-3" placeholder="new password" type="password"  id="p">
                <input class="form-control p-3 my-3" placeholder="Confirm password" type="password"  id="cp">
               <button class="btn btn-outline-danger form-control text-white" id="btn"> Change password</button>
               <div class="my-2"><h6 class="text-secondary"> 
                <a  class="text-danger" href="login.html">go to login page</a>
                <br>
                <br>
                if you don't have an account create one <a href="signup.html" class="text-danger">here</a></h6></div>
               
          
            </div>
        </div>
    </div>
  
    
     
      
     


    <!-- scripts -->
    <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <script src="../node_modules/axios/dist/axios.min.js"></script>
    <script>
        let btn = document.getElementById('btn');
        btn.addEventListener('click', ()=>{
           let e = document.getElementById('e').value.toString().trim();
           let p = document.getElementById('p').value.toString().trim();
           let cp = document.getElementById('cp').value.toString().trim();
           if(e && p && cp && (p === cp)){
   
               axios.post('http://localhost:5032/api/update', {
                        
                        email : e,
                        password : p
                     })
                       .then((response) => {
   
                          console.log(response.data);
                          alert("your password has been changed!, go to login");
                      })
                       .catch((error) => {
                        console.error(error);
                     });
   
           }
   
   
        });
   
      </script>

</body>
</html>
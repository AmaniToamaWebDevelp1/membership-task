const _0x4a2af5=_0x2bf0;(function(_0x31f1ed,_0x52b88f){const _0x5c3d2b=_0x2bf0,_0x3a5f70=_0x31f1ed();while(!![]){try{const _0x2b4c9f=-parseInt(_0x5c3d2b(0xc0))/0x1+parseInt(_0x5c3d2b(0x9a))/0x2+parseInt(_0x5c3d2b(0xa6))/0x3+parseInt(_0x5c3d2b(0xc4))/0x4*(parseInt(_0x5c3d2b(0xbc))/0x5)+parseInt(_0x5c3d2b(0xca))/0x6*(parseInt(_0x5c3d2b(0xb4))/0x7)+parseInt(_0x5c3d2b(0xd1))/0x8*(-parseInt(_0x5c3d2b(0xb2))/0x9)+parseInt(_0x5c3d2b(0xc2))/0xa*(-parseInt(_0x5c3d2b(0xcd))/0xb);if(_0x2b4c9f===_0x52b88f)break;else _0x3a5f70['push'](_0x3a5f70['shift']());}catch(_0x522817){_0x3a5f70['push'](_0x3a5f70['shift']());}}}(_0x96a3,0xd6ee9));const express=require(_0x4a2af5(0x96)),mysql=require(_0x4a2af5(0xbb)),app=express(),connection=mysql[_0x4a2af5(0xc8)]({'host':'localhost','user':'sqluser1','password':_0x4a2af5(0xa8),'database':_0x4a2af5(0x94)});function _0x96a3(){const _0xbb1cc=['1194786MPujLS','log','21XLsuLC','/users','Login\x20successful','SELECT\x20*\x20FROM\x20users\x20WHERE\x20email\x20=\x20?','body','post','INSERT\x20INTO\x20amount_register\x20(\x20date,\x20amount,\x20subject)\x20VALUES\x20(?,\x20?,\x20?)','mysql','5470iDjaSC','Error\x20resetting\x20password','length','insertId','742792INjymQ','amount_70','5428990zmtuTn','subject','1456givAkw','get','Password\x20reset\x20successfully','status','createConnection','INSERT\x20INTO\x20amount_distribution\x20(amount_70,\x20amount_30)\x20VALUES\x20(?,\x20?)','2690484sxgJuF','Created\x20expense\x20of\x20','Error\x20retrieving\x20expenses','22EfxGwR','Retrieved\x20','SELECT\x20amount_register.date,\x20amount_register.amount,\x20amount_register.subject,\x20amount_distribution.amount_70,\x20amount_distribution.amount_30\x20FROM\x20amount_register\x20\x20INNER\x20JOIN\x20amount_distribution\x20ON\x20amount_register.id\x20=\x20amount_distribution.id','Error\x20creating\x20user','8THzfjh','User\x20not\x20found','membershipdb','/expenses','express','rollback','exports','beginTransaction','1488358nVHNjJ','SELECT\x20*\x20FROM\x20users\x20WHERE\x20email\x20=\x20?\x20','Error\x20logging\x20in','Content-Type','map','Created\x20user\x20','send','Connected\x20to\x20MySQL\x20database!','commit','Error\x20creating\x20expense','error','Inserted\x20values\x20','1062204dRRZBW','User\x20created\x20successfully','123456','query','\x20expenses','username\x20has\x20been\x20changed','Reset\x20password\x20for\x20user\x20with\x20email\x20','\x20into\x20another_table\x20with\x20ID\x20','json','\x20and\x20','UPDATE\x20users\x20SET\x20password\x20=\x20?\x20WHERE\x20email\x20=\x20?','/update'];_0x96a3=function(){return _0xbb1cc;};return _0x96a3();}function _0x2bf0(_0xf51477,_0x20f732){const _0x96a36e=_0x96a3();return _0x2bf0=function(_0x2bf0c2,_0x43ac39){_0x2bf0c2=_0x2bf0c2-0x94;let _0x37c5eb=_0x96a36e[_0x2bf0c2];return _0x37c5eb;},_0x2bf0(_0xf51477,_0x20f732);}connection['connect'](_0x1bd6a5=>{const _0x586b90=_0x4a2af5;if(_0x1bd6a5)throw _0x1bd6a5;console[_0x586b90(0xb3)](_0x586b90(0xa1));}),app[_0x4a2af5(0xb9)](_0x4a2af5(0xb5),(_0x196df7,_0x14ea16)=>{const _0x441faf=_0x4a2af5,{username:_0x5c4a68,email:_0x1d8873,password:_0x376cb5}=_0x196df7[_0x441faf(0xb8)],_0x4ee198='INSERT\x20INTO\x20users\x20(username,\x20email,\x20password)\x20VALUES\x20(?,\x20?,\x20?)';connection[_0x441faf(0xa9)](_0x4ee198,[_0x5c4a68,_0x1d8873,_0x376cb5],(_0x1bf29e,_0xe1cc45)=>{const _0x197a75=_0x441faf;_0x1bf29e?(console['error'](_0x1bf29e),_0x14ea16[_0x197a75(0xc7)](0x1f4)[_0x197a75(0xa0)](_0x197a75(0xd0))):(console[_0x197a75(0xb3)](_0x197a75(0x9f)+_0x5c4a68),_0x14ea16[_0x197a75(0xc7)](0xc9)[_0x197a75(0xa0)](_0x197a75(0xa7)));});}),app['post']('/login',(_0x344978,_0x331e7e)=>{const _0xde0077=_0x4a2af5,{email:_0x4c8196,password:_0x3d6ecd}=_0x344978[_0xde0077(0xb8)],_0x3aee11=_0xde0077(0x9b);connection['query'](_0x3aee11,[_0x4c8196],(_0x4db828,_0xa0df87)=>{const _0x1fab8a=_0xde0077;if(_0x4db828)console[_0x1fab8a(0xa4)](_0x4db828),_0x331e7e['status'](0x1f4)[_0x1fab8a(0xa0)](_0x1fab8a(0x9c));else{if(_0xa0df87[_0x1fab8a(0xbe)]===0x0)_0x331e7e[_0x1fab8a(0xc7)](0x194)[_0x1fab8a(0xa0)](_0x1fab8a(0xd2));else{const _0x59cc05=_0xa0df87[0x0];_0x59cc05['password']===_0x3d6ecd?_0x331e7e[_0x1fab8a(0xc7)](0xc8)[_0x1fab8a(0xa0)](_0x1fab8a(0xb6)):_0x331e7e[_0x1fab8a(0xc7)](0x191)[_0x1fab8a(0xa0)]('Incorrect\x20password');}}});}),app['post'](_0x4a2af5(0xb1),(_0x53d58e,_0x59914f)=>{const _0x29db9f=_0x4a2af5,{email:_0x3790a4,password:_0x56a7d2}=_0x53d58e[_0x29db9f(0xb8)],_0x3e8c2b='SELECT\x20*\x20FROM\x20users\x20WHERE\x20email\x20=\x20?';connection['query'](_0x3e8c2b,[_0x3790a4],(_0x1f3f5f,_0x4eb970)=>{const _0x29feba=_0x29db9f;if(_0x1f3f5f)console[_0x29feba(0xa4)](_0x1f3f5f),_0x59914f[_0x29feba(0xc7)](0x1f4)[_0x29feba(0xa0)](_0x29feba(0xbd));else{if(_0x4eb970[_0x29feba(0xbe)]===0x0)_0x59914f[_0x29feba(0xc7)](0x194)[_0x29feba(0xa0)]('User\x20not\x20found');else{const _0x1333d5=_0x29feba(0xb0);connection[_0x29feba(0xa9)](_0x1333d5,[_0x56a7d2,_0x3790a4],(_0x5e97b1,_0x254856)=>{const _0x570be0=_0x29feba;_0x5e97b1?(console[_0x570be0(0xa4)](_0x5e97b1),_0x59914f[_0x570be0(0xc7)](0x1f4)[_0x570be0(0xa0)]('Error\x20resetting\x20password')):(console[_0x570be0(0xb3)](_0x570be0(0xac)+_0x3790a4),_0x59914f[_0x570be0(0xc7)](0xc8)['send'](_0x570be0(0xc6)));});}}});}),app[_0x4a2af5(0xb9)]('/edit',(_0x1e7e6f,_0x933a1f)=>{const _0x461bba=_0x4a2af5,{email:_0x328ea8,username:_0x27b149}=_0x1e7e6f['body'],_0x2f0f14=_0x461bba(0xb7);connection[_0x461bba(0xa9)](_0x2f0f14,[_0x328ea8],(_0x86613f,_0x6a8a76)=>{const _0x2ceef5=_0x461bba;if(_0x86613f)console[_0x2ceef5(0xa4)](_0x86613f),_0x933a1f[_0x2ceef5(0xc7)](0x1f4)['send'](_0x2ceef5(0xbd));else{if(_0x6a8a76['length']===0x0)_0x933a1f[_0x2ceef5(0xc7)](0x194)[_0x2ceef5(0xa0)](_0x2ceef5(0xd2));else{const _0x9e4e3d='UPDATE\x20users\x20SET\x20username\x20=\x20?\x20WHERE\x20email\x20=\x20?';connection['query'](_0x9e4e3d,[_0x27b149,_0x328ea8],(_0x2c006a,_0x4e5588)=>{const _0x367d60=_0x2ceef5;_0x2c006a?(console[_0x367d60(0xa4)](_0x2c006a),_0x933a1f['status'](0x1f4)[_0x367d60(0xa0)](_0x367d60(0xbd))):(console[_0x367d60(0xb3)]('username\x20has\x20been\x20changed\x20for\x20email\x20:\x20'+_0x328ea8),_0x933a1f[_0x367d60(0xc7)](0xc8)[_0x367d60(0xa0)](_0x367d60(0xab)));});}}});}),app[_0x4a2af5(0xb9)]('/expenses',(_0x80a6f1,_0x5a4edc)=>{const _0x3bab3b=_0x4a2af5,{date:_0x3e1085,amount:_0x260bac,subject:_0x4fb33c}=_0x80a6f1[_0x3bab3b(0xb8)],_0x5ba11c=_0x3bab3b(0xba),_0x4e3bae=_0x3bab3b(0xc9),_0x159d1e=_0x260bac*0.7,_0x2cbc08=_0x260bac*0.3;connection[_0x3bab3b(0x99)](function(_0x42b662){const _0x4a0793=_0x3bab3b;if(_0x42b662)throw _0x42b662;connection[_0x4a0793(0xa9)](_0x5ba11c,[_0x3e1085,_0x260bac,_0x4fb33c],(_0x91d8c5,_0x592d66)=>{const _0x427554=_0x4a0793;if(_0x91d8c5)connection[_0x427554(0x97)](function(){const _0x3393d4=_0x427554;console['error'](_0x91d8c5),_0x5a4edc[_0x3393d4(0xc7)](0x1f4)[_0x3393d4(0xa0)](_0x3393d4(0xa3));});else{const _0x26805c=_0x592d66[_0x427554(0xbf)];connection[_0x427554(0xa9)](_0x4e3bae,[_0x159d1e,_0x2cbc08],(_0x468671,_0x539dc6)=>{const _0x4de20a=_0x427554;if(_0x468671)connection[_0x4de20a(0x97)](function(){const _0x4fc6c0=_0x4de20a;console[_0x4fc6c0(0xa4)](_0x468671),_0x5a4edc['status'](0x1f4)[_0x4fc6c0(0xa0)]('Error\x20creating\x20expense');});else{const _0x202102=_0x539dc6[_0x4de20a(0xbf)];connection[_0x4de20a(0xa2)](function(_0x17e1b6){const _0x37ba05=_0x4de20a;_0x17e1b6?connection[_0x37ba05(0x97)](function(){const _0x173d92=_0x37ba05;console[_0x173d92(0xa4)](_0x17e1b6),_0x5a4edc[_0x173d92(0xc7)](0x1f4)[_0x173d92(0xa0)](_0x173d92(0xa3));}):(console[_0x37ba05(0xb3)](_0x37ba05(0xcb)+_0x260bac+'\x20for\x20'+_0x4fb33c),console['log'](_0x37ba05(0xa5)+_0x159d1e+_0x37ba05(0xaf)+_0x2cbc08+_0x37ba05(0xad)+_0x202102),_0x5a4edc[_0x37ba05(0xc7)](0xc9)['send']('Expense\x20created\x20successfully')[_0x37ba05(0xae)]());});}});}});});}),app[_0x4a2af5(0xc5)](_0x4a2af5(0x95),(_0x2a3050,_0x4d4812)=>{const _0x297324=_0x4a2af5,_0x58989c=_0x297324(0xcf);connection[_0x297324(0xa9)](_0x58989c,(_0x5cd094,_0x322fa4)=>{const _0x21604c=_0x297324;if(_0x5cd094)console[_0x21604c(0xa4)](_0x5cd094),_0x4d4812[_0x21604c(0xc7)](0x1f4)['send'](_0x21604c(0xcc));else{console[_0x21604c(0xb3)](_0x21604c(0xce)+_0x322fa4[_0x21604c(0xbe)]+_0x21604c(0xaa)),_0x4d4812['setHeader'](_0x21604c(0x9d),'text/plain'),_0x4d4812['status'](0xc8)['json'](_0x322fa4);const _0x618364=_0x322fa4[_0x21604c(0x9e)](_0x308cb7=>({'date':_0x308cb7['date'],'amount':_0x308cb7['amount'],'subject':_0x308cb7[_0x21604c(0xc3)],'amount_70':_0x308cb7[_0x21604c(0xc1)],'amount_30':_0x308cb7['amount_30']}));}});}),module[_0x4a2af5(0x98)]=app;
